# 一、Linux操作系统综述

## 1.一些比喻

- 软件外包公司-**操作系统**：

  操作系统其实就像一个软件外包公司，其内核就相当于这家外包公司的老板。

- 客户对接员-**输入设备驱动**：

  当客户（即输入设备）告诉对接员需求的时候，对于操作系统来讲，输入设备会发送一个中断。客户肯定希望外包公司停下手头的事来服务它。这个时候客户发送的需求就被称之为**中断事件interrupt event.**

- 交付人员-**输出设备驱动**

  作为外包公司，对客户的需求无论做或不做，做的结果如何，都要给客户一个反馈。例：显卡的显卡驱动。

- 立项-**运行软件**

  - 项目执行计划书：即已经编译的二进制执行程序，确定能做什么、怎么做、做的顺序是什么。
  - 档案管理系统-**文件管理子系统File Management Subsystem**：管理储存各个程序（他们都以二进制文件的形式保存在硬盘上）。二进制文件是静态的，称为program程序。运行起来的是动态的，称为process进程。
  - 项目管理系统-**进程管理子系统Process Management Subsystem**：进程的执行需要分配cpu来执行，即按照二进制代码一行一行的执行。该系统用于管理进程
  - 会议室管理系统-**内存管理子系统Memory Management Subsystem**：统一管理和分配不同进程所用到的内存空间。不同进程不共享内存，就像不同项目组不同时共用一个会议室

- 办事大厅-**系统调用System Call子系统**

  明文列出提供哪些服务(接口)，谁需要可以来申请，然后就会有回应。立项是办事大厅提供的关键服务之一。任何一个程序要想运行起来，就需要调用系统调用，创建进程。

- 对外合作部-**网络子系统**

  QQ 进程是不能直接发送网络包的，需要调用系统调用，内核使用网卡驱动程序进行发送。就像依靠公司的对外合作部和其他公司进行沟通合作。

### 内核源代码

https://elixir.bootlin.com/linux/latest/source

kernel 	 内核管理核心代码-进程管理子系统
mm		  内存管理代码-内存管理子系统
drivers     驱动程序代码-设备管理子系统
fs 			 文件系统代码-文件管理子系统
net 		  网络协议代码-网络管理子系统
arch		 体系结构代码，如x86、arm等
ipc 		   进程间通信子系统
init 		   Linux系统启动初始化相关代码

